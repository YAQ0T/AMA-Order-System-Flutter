<!DOCTYPE html>
<html>

<head>
    <title>Connection Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background: #0f172a;
            color: white;
        }

        .test {
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
        }

        .success {
            border-left: 4px solid #22c55e;
        }

        .error {
            border-left: 4px solid #ef4444;
        }

        .pending {
            border-left: 4px solid #f59e0b;
        }

        button {
            background: #6366f1;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
        }
    </style>
</head>

<body>
    <h1>üîç Connection Test</h1>
    <p>This page will test if your device can connect to the backend server.</p>

    <div id="frontend-test" class="test success">
        ‚úÖ Frontend loaded successfully
    </div>

    <div id="backend-test" class="test pending">
        ‚è≥ Testing backend connection...
    </div>

    <button onclick="testBackend()">Test Again</button>

    <script>
        const API_URL = 'https://10.10.10.56:6001';

        async function testBackend() {
            const testDiv = document.getElementById('backend-test');
            testDiv.className = 'test pending';
            testDiv.innerHTML = '‚è≥ Testing backend connection...';

            try {
                const response = await fetch(`${API_URL}/api/auth/takers`);
                const data = await response.json();

                testDiv.className = 'test success';
                testDiv.innerHTML = `‚úÖ Backend connection successful!<br><small>Found ${data.length} takers</small>`;
            } catch (error) {
                testDiv.className = 'test error';
                testDiv.innerHTML = `‚ùå Backend connection failed<br><small>${error.message}</small><br><br>
                <strong>Possible causes:</strong><br>
                ‚Ä¢ Mac firewall is blocking connections<br>
                ‚Ä¢ Not on the same Wi-Fi network<br>
                ‚Ä¢ Backend server is not running`;
            }
        }

        // Auto-test on load
        testBackend();
    </script>
</body>

</html>
